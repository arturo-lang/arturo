<||= importPartial "components/head.html" ||>
    <body data-prismjs-copy-timeout="500">
        
        <||= importPartial "components/navbar.html" ||>
        
        <main>
            <div class="columns doccols">
                <div class="column" style="padding-bottom:0; background: #272822; padding-right: 0">
                    <div class="editor-toolbar">
                        <div id="examplesbutton"><a href="javascript:void(0)" data-scroll-ignore onclick="showExamplesDialog()" title="Load example"><div id="examplesIcon"><svg xmlns="http://www.w3.org/2000/svg" width="1.3em" height="1.3em" fill="currentColor" viewBox="0 0 256 256"><path d="M221.69,199.77,160,96.92V40h8a8,8,0,0,0,0-16H88a8,8,0,0,0,0,16h8V96.92L34.31,199.77A16,16,0,0,0,48,224H208a16,16,0,0,0,13.72-24.23ZM110.86,103.25A7.93,7.93,0,0,0,112,99.14V40h32V99.14a7.93,7.93,0,0,0,1.14,4.11L183.36,167c-12,2.37-29.07,1.37-51.75-10.11-15.91-8.05-31.05-12.32-45.22-12.81ZM48,208l28.54-47.58c14.25-1.74,30.31,1.85,47.82,10.72,19,9.61,35,12.88,48,12.88a69.89,69.89,0,0,0,19.55-2.7L208,208Z"></path></svg></div></a></div>
                        <div id="argsbutton"><a href="javascript:void(0)" data-scroll-ignore onclick="showArgsDialog()" title="Command-line arguments"><div id="argsIcon"><svg xmlns="http://www.w3.org/2000/svg" width="1.3em" height="1.3em" fill="currentColor" viewBox="0 0 256 256"><path d="M128,128a8,8,0,0,1-3,6.25l-40,32a8,8,0,1,1-10-12.5L107.19,128,75,102.25a8,8,0,1,1,10-12.5l40,32A8,8,0,0,1,128,128Zm48,24H136a8,8,0,0,0,0,16h40a8,8,0,0,0,0-16Zm56-96V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56ZM216,200V56H40V200H216Z"></path></svg></div></a></div>
                        <div id="wordwrapper"><a href="javascript:void(0)" data-scroll-ignore onclick="toggleWordWrap()" title="toggle word wrap"><div id="wordwrapperIcon"><svg class="dowrap" xmlns="http://www.w3.org/2000/svg" width="1.3em" height="1.3em" fill="currentColor" viewBox="0 0 256 256"><path d="M32,64a8,8,0,0,1,8-8H216a8,8,0,0,1,0,16H40A8,8,0,0,1,32,64Zm8,48H168a8,8,0,0,0,0-16H40a8,8,0,0,0,0,16Zm176,24H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Zm-48,40H40a8,8,0,0,0,0,16H168a8,8,0,0,0,0-16Z"></path></svg><svg class="donowrap" xmlns="http://www.w3.org/2000/svg" width="1.3em" height="1.3em" fill="currentColor" viewBox="0 0 256 256"><path d="M32,64a8,8,0,0,1,8-8H216a8,8,0,0,1,0,16H40A8,8,0,0,1,32,64ZM216,96H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Zm0,40H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Zm0,40H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"></path></svg></div></a></div>
                        <div id="expander"><a href="javascript:void(0)" data-scroll-ignore onclick="toggleExpand()" title="toggle full size"><div id="expanderIcon"><svg class="doexpand" xmlns="http://www.w3.org/2000/svg"  width="1.3em" height="1.3em" fill="currentColor"  viewBox="0 0 256 256"><path d="M216,48V96a8,8,0,0,1-16,0V67.31l-50.34,50.35a8,8,0,0,1-11.32-11.32L188.69,56H160a8,8,0,0,1,0-16h48A8,8,0,0,1,216,48ZM106.34,138.34,56,188.69V160a8,8,0,0,0-16,0v48a8,8,0,0,0,8,8H96a8,8,0,0,0,0-16H67.31l50.35-50.34a8,8,0,0,0-11.32-11.32Z"></path></svg><svg class="docompress" xmlns="http://www.w3.org/2000/svg" width="1.3em" height="1.3em" fill="currentColor" viewBox="0 0 256 256"><path d="M216.49,56.48,177,96h19a12,12,0,0,1,0,24H148a12,12,0,0,1-12-12V60a12,12,0,0,1,24,0V79l39.51-39.52a12,12,0,0,1,17,17ZM108,136H60a12,12,0,0,0,0,24H79L39.51,199.51a12,12,0,0,0,17,17L96,177v19a12,12,0,0,0,24,0V148A12,12,0,0,0,108,136Z"></path></svg></div></a></div>
                    </div>
                    <button data-scroll-ignore onclick="execCode()" title="Run script" aria-label="execute code snippet"><div class="action-button" id="runbutton"><svg class="play" xmlns="http://www.w3.org/2000/svg" width="1.2em" height="1.2em" fill="currentColor" viewBox="0 0 256 256"><path d="M176,128a12,12,0,0,1-5.17,9.87l-52,36A12,12,0,0,1,100,164V92a12,12,0,0,1,18.83-9.87l52,36A12,12,0,0,1,176,128Zm60,0A108,108,0,1,1,128,20,108.12,108.12,0,0,1,236,128Zm-24,0a84,84,0,1,0-84,84A84.09,84.09,0,0,0,212,128Z"></path></svg><svg class="processing" xmlns="http://www.w3.org/2000/svg" width="1.2em" height="1.2em" fill="currentColor" viewBox="0 0 256 256"><path d="M236,128a108,108,0,0,1-216,0c0-42.52,24.73-81.34,63-98.9A12,12,0,1,1,93,50.91C63.24,64.57,44,94.83,44,128a84,84,0,0,0,168,0c0-33.17-19.24-63.43-49-77.09A12,12,0,1,1,173,29.1C211.27,46.66,236,85.48,236,128Z"></path></svg></div></button>
                    <button data-scroll-ignore onclick="shareLink()" title="Share link" aria-label="share code snippet"><div class="action-button" id="sharebutton"><svg xmlns="http://www.w3.org/2000/svg" width="1.2em" height="1.2em" fill="currentColor" viewBox="0 0 256 256"><path d="M212,200a36,36,0,1,1-69.85-12.25l-53-34.05a36,36,0,1,1,0-51.4l53-34a36.09,36.09,0,1,1,8.67,13.45l-53,34.05a36,36,0,0,1,0,24.5l53,34.05A36,36,0,0,1,212,200Z"></path></svg></div></button>
                    <div class="tabs">
                        <ul>
                            <li class="is-active"><a href="javascript:void(0)"><span class="icon is-small"><svg xmlns="http://www.w3.org/2000/svg" width="1.2em" height="1.2em" fill="currentColor" viewBox="0 0 256 256"><path d="M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Z"></path></svg></span><span id="scriptName">main.art</span></a></li>
                        </ul>
                    </div>
                    <div id="editor"></div>
                </div>
                <div class="column" style="background: black;">
                    <div id="terminal"><button id="terminal-info-toggle" onclick="toggleTerminalInfo()" title="Toggle system info"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" viewBox="0 0 256 256"><path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm16-40a8,8,0,0,1-8,8,16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40A8,8,0,0,1,144,176ZM112,84a12,12,0,1,1,12,12A12,12,0,0,1,112,84Z"></path></svg></button><div id="terminal-info" style="color:gray;"># version : <||= Data\setup\version ||><br># build   : <||= Data\setup\build ||><br># arch    : amd64/freebsd<br><br></div><div id="terminal_output"></div><div id="terminal-status" style="display: none;"></div></div>
                </div>
            </div>
        </main>

        <!-- Share Modal -->
        <div id="share-modal" class="modal">
            <div class="modal-background" onclick="closeShareDialog()"></div>
            <div class="modal-card">
                <header class="modal-card-head">
                    <p class="modal-card-title">Share this script</p>
                    <button class="delete" aria-label="close" onclick="closeShareDialog()"></button>
                </header>
                <section class="modal-card-body">
                    <input id="snippet-link" class="input is-small" readonly style="font-size: 13px;">
                </section>
                <footer class="modal-card-foot">
                    <button class="button is-info is-small is-rounded" onclick="copyShareLink()" style="font-size: 13px;">Copy</button>
                </footer>
            </div>
        </div>

        <!-- Command-line Arguments Modal -->
        <div id="args-modal" class="modal">
            <div class="modal-background" onclick="closeArgsDialog()"></div>
            <div class="modal-card">
                <header class="modal-card-head">
                    <p class="modal-card-title">Command-line Arguments</p>
                    <button class="delete" aria-label="close" onclick="closeArgsDialog()"></button>
                </header>
                <section class="modal-card-body">
                    <div class="field">
                        <label class="label" style="font-size: 14px; font-weight: 600;">Arguments</label>
                        <div class="control">
                            <input id="cmdline-args" class="input is-small" type="text" placeholder="e.g., arg1 arg2 arg3" style="font-size: 13px;">
                        </div>
                        <p class="help" style="font-size: 11px;">Space-separated arguments passed to your script</p>
                    </div>
                </section>
                <footer class="modal-card-foot">
                    <button class="button is-info is-small is-rounded" onclick="saveArgs()" style="font-size: 13px;">Save</button>
                </footer>
            </div>
        </div>

        <!-- Examples Modal -->
        <div id="examples-modal" class="modal">
            <div class="modal-background" onclick="closeExamplesDialog()"></div>
            <div class="modal-card">
                <header class="modal-card-head">
                    <p class="modal-card-title">Load Example</p>
                    <button class="delete" aria-label="close" onclick="closeExamplesDialog()"></button>
                </header>
                <section class="modal-card-body">
                    <div class="field" style="margin-bottom: 12px;">
                        <div class="control">
                            <input id="examples-search" class="input is-small" type="text" placeholder="Search examples..." style="font-size: 13px;">
                        </div>
                        <p class="help" style="font-size: 11px; color: #999; margin-top: 4px;">
                            <span id="examples-count">0</span> examples available
                        </p>
                    </div>
                    <div id="examples-list" style="max-height: 400px; overflow-y: auto; border: 1px solid #e8e8e8; border-radius: 4px;"></div>
                </section>
            </div>
        </div>

        <!-- Documentation Modal (for search results) -->
        <div id="doc-modal" class="modal">
            <div class="modal-background"></div>
            <div class="modal-card">
                <header class="modal-card-head">
                    <p class="modal-card-title" id="doc-modal-title"></p>
                    <button class="delete" aria-label="close" id="doc-modal-close"></button>
                </header>
                <section class="modal-card-body doc-modal-content" id="doc-modal-body">
                    <div class="has-text-centered">
                        <span class="loader"></span>
                    </div>
                </section>
            </div>
        </div>

<||= importPartial "components/foot.html" ||>