<||= importPartial "components/head.html" ||>
    <body data-prismjs-copy-timeout="500">
        
        <||= importPartial "components/navbar.html" ||>
        
        <main>
            <div class="columns doccols">
                <div class="column" style="padding-bottom:0; background: #272822; padding-right: 0">
                    <div class="editor-toolbar">
                        <div id="argsbutton"><a href="javascript:void(0)" data-scroll-ignore onclick="showArgsDialog()" title="Command-line arguments"><div id="argsIcon"><svg xmlns="http://www.w3.org/2000/svg" width="1.3em" height="1.3em" fill="currentColor" viewBox="0 0 256 256"><||= phosphor 'regular 'terminal ||></svg></div></a></div>
                        <div id="wordwrapper"><a href="javascript:void(0)" data-scroll-ignore onclick="toggleWordWrap()" title="toggle word wrap"><div id="wordwrapperIcon"><svg class="dowrap" xmlns="http://www.w3.org/2000/svg" width="1.3em" height="1.3em" fill="currentColor" viewBox="0 0 256 256"><||= phosphor 'regular "text-align-justify" ||></svg><svg class="donowrap" xmlns="http://www.w3.org/2000/svg" width="1.3em" height="1.3em" fill="currentColor" viewBox="0 0 256 256"><||= phosphor 'regular "text-align-left" ||></svg></div></a></div>
                        <div id="expander"><a href="javascript:void(0)" data-scroll-ignore onclick="toggleExpand()" title="toggle full size"><div id="expanderIcon"><svg class="doexpand" xmlns="http://www.w3.org/2000/svg"  width="1.3em" height="1.3em" fill="currentColor"  viewBox="0 0 256 256"><||= phosphor 'regular "square-split-horizontal" ||></svg><svg class="docompress" xmlns="http://www.w3.org/2000/svg" width="1.3em" height="1.3em" fill="currentColor" viewBox="0 0 256 256"><||= phosphor 'regular "square-split-vertical" ||></svg></div></a></div>
                    </div>
                    <a href="javascript:void(0)" data-scroll-ignore onclick="execCode()" title="Run script" aria-label="execute code snippet"><div class="action-button" id="runbutton"><svg class="play" xmlns="http://www.w3.org/2000/svg" width="1.2em" height="1.2em" fill="currentColor" viewBox="0 0 256 256"><||= phosphor 'bold "play-circle" ||></svg><svg class="processing" xmlns="http://www.w3.org/2000/svg" width="1.2em" height="1.2em" fill="currentColor" viewBox="0 0 256 256"><||= phosphor 'bold "circle-notch" ||></svg></div></a>
                    <div class="tabs">
                        <ul>
                            <!--<li class="is-active"><a href="javascript:void(0)"><span id="scriptName">main.art</span></a></li>-->
                            <li class="extra-item"><a href="javascript:void(0)" onclick="newScript()"><span class="icon is-small"><svg xmlns="http://www.w3.org/2000/svg" width="1.3em" height="1.3em" fill="currentColor" viewBox="0 0 256 256"><||= phosphor 'regular 'file ||></svg></span><span>New</span></a></li>
                            <li class="extra-item"><a href="javascript:void(0)" onclick="showExamplesDialog()"><span class="icon is-small"><svg xmlns="http://www.w3.org/2000/svg" width="1.3em" height="1.3em" fill="currentColor" viewBox="0 0 256 256"><||= phosphor 'regular "folder-open" ||></svg></span><span>Load</span></a></li>
                            <li class="extra-item"><a href="javascript:void(0)" onclick="shareLink()"><span class="icon is-small"><svg xmlns="http://www.w3.org/2000/svg" width="1.3em" height="1.3em" fill="currentColor" viewBox="0 0 256 256"><||= phosphor 'regular "floppy-disk" ||></svg></span><span>Save</span></a></li>
                            <li class="extra-item"><a href="javascript:void(0)" onclick="downloadSnippet()"><span class="icon is-small"><svg xmlns="http://www.w3.org/2000/svg" width="1.3em" height="1.3em" fill="currentColor" viewBox="0 0 256 256"><||= phosphor 'regular 'download ||></svg></span><span>Download</span></a></li>
                        </ul>
                    </div>
                    <div id="editor"></div>
                    <div id="toast-notification"></div>
                </div>
                <div class="column" style="background: black;">
                    <div id="terminal"><button id="terminal-info-toggle" onclick="toggleTerminalInfo()" title="Toggle system info"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" viewBox="0 0 256 256"><path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm16-40a8,8,0,0,1-8,8,16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40A8,8,0,0,1,144,176ZM112,84a12,12,0,1,1,12,12A12,12,0,0,1,112,84Z"></path></svg></button><div id="terminal-info" style="color:gray;"># version : <||= Data\setup\version ||><br># build   : <||= Data\setup\build ||><br># arch    : amd64/freebsd<br><br></div><div id="terminal_output"></div><div id="terminal-status" style="display: none;"></div></div>
                </div>
            </div>
        </main>

        <!-- Share Modal -->
        <div id="share-modal" class="modal">
            <div class="modal-background" onclick="closeShareDialog()"></div>
            <div class="modal-card">
                <header class="modal-card-head">
                    <p class="modal-card-title">Share this script</p>
                    <button class="delete" aria-label="close" onclick="closeShareDialog()"></button>
                </header>
                <section class="modal-card-body">
                    <input id="snippet-link" class="input is-small" readonly style="font-size: 13px;">
                </section>
                <footer class="modal-card-foot">
                    <button class="button is-info is-small is-rounded" onclick="copyShareLink()" style="font-size: 13px;">Copy</button>
                </footer>
            </div>
        </div>

        <!-- Command-line Arguments Modal -->
        <div id="args-modal" class="modal">
            <div class="modal-background" onclick="closeArgsDialog()"></div>
            <div class="modal-card">
                <header class="modal-card-head">
                    <p class="modal-card-title">Command-line Arguments</p>
                    <button class="delete" aria-label="close" onclick="closeArgsDialog()"></button>
                </header>
                <section class="modal-card-body">
                    <div class="field">
                        <label class="label" style="font-size: 14px; font-weight: 600;">Arguments</label>
                        <div class="control">
                            <input id="cmdline-args" class="input is-small" type="text" placeholder="e.g., arg1 arg2 arg3" style="font-size: 13px;">
                        </div>
                        <p class="help" style="font-size: 11px;">Space-separated arguments passed to your script</p>
                    </div>
                </section>
                <footer class="modal-card-foot">
                    <button class="button is-info is-small is-rounded" onclick="saveArgs()" style="font-size: 13px;">Save</button>
                </footer>
            </div>
        </div>

        <!-- Examples Modal -->
        <div id="examples-modal" class="modal">
            <div class="modal-background" onclick="closeExamplesDialog()"></div>
            <div class="modal-card">
                <header class="modal-card-head">
                    <p class="modal-card-title">Load Example</p>
                    <button class="delete" aria-label="close" onclick="closeExamplesDialog()"></button>
                </header>
                <section class="modal-card-body">
                    <div class="field" style="margin-bottom: 12px;">
                        <div class="control">
                            <input id="examples-search" class="input is-small" type="text" placeholder="Search examples..." style="font-size: 13px;">
                        </div>
                        <p class="help" style="font-size: 11px; color: #999; margin-top: 4px;">
                            <span id="examples-count">0</span> examples available
                        </p>
                    </div>
                    <div id="examples-list" style="max-height: 400px; overflow-y: auto; border: 1px solid #e8e8e8; border-radius: 4px;"></div>
                </section>
            </div>
        </div>

        <!-- Documentation Modal (for search results) -->
        <div id="doc-modal" class="modal">
            <div class="modal-background"></div>
            <div class="modal-card">
                <header class="modal-card-head">
                    <p class="modal-card-title" id="doc-modal-title"></p>
                    <button class="delete" aria-label="close" id="doc-modal-close"></button>
                </header>
                <section class="modal-card-body doc-modal-content" id="doc-modal-body">
                    <div class="has-text-centered">
                        <span class="loader"></span>
                    </div>
                </section>
            </div>
        </div>

<||= importPartial "components/foot.html" ||>